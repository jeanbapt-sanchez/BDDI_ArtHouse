<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        .boussole{
            width: 100%;

        }
    </style>
</head>
<body>
    <img class="boussole" src="./img/boussole.jpg" alt="" />
    <script>
        let boussole = document.querySelector('.boussole')
        if (window.DeviceOrientationEvent) {
            // Listen for the deviceorientation event and handle the raw data
            window.addEventListener('deviceorientation', function(eventData) {
                var compassdir;

                if(event.webkitCompassHeading) {
                    // Apple works only with this, alpha doesn't work
                    compassdir = event.webkitCompassHeading;  
                    console.log(compassdir)
                }
                else compassdir = event.alpha;

                compassdir = -compassdir
                boussole.style.transform = `rotate(${compassdir}deg)`
                // console.log(boussole.style.transform)
                if(-compassdir > 179 && -compassdir < 181){
                    console.log('DECLENCHED ANINMATION')
                }
                
            });
}

    </script>
</body>
</html>